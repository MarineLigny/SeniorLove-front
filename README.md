# üíï Senior Love - Frontend

![React](https://img.shields.io/badge/React-19.1.0-61DAFB?logo=react)
![TypeScript](https://img.shields.io/badge/TypeScript-5.8.3-3178C6?logo=typescript)
![Vite](https://img.shields.io/badge/Vite-7.0.3-646CFF?logo=vite)
![Sass](https://img.shields.io/badge/Sass-1.89.2-CC6699?logo=sass)

**Senior Love** est une plateforme de rencontre d√©di√©e aux seniors, con√ßue pour faciliter les connexions authentiques entre personnes de 60 ans et plus. L'application offre une interface moderne et accessible, permettant de cr√©er un profil, rechercher des partenaires compatibles, participer √† des √©v√©nements et √©changer par messagerie.

> ü§ù **Projet r√©alis√© en bin√¥me avec Emmanuelle Eisel√©**  
> Le backend de ce projet est disponible sur le portfolio d'Emmanuelle Eisel√©.

---

## üìã Table des mati√®res

- [Fonctionnalit√©s principales](#-fonctionnalit√©s-principales)
- [Technologies utilis√©es](#-technologies-utilis√©es)
- [Architecture & Authentification](#-architecture--authentification)
- [Installation](#-installation)
- [Routes principales](#-routes-principales)
- [Exemples de requ√™tes API](#-exemples-de-requ√™tes-api)
- [Structure du projet](#-structure-du-projet)
- [D√©ploiement](#-d√©ploiement)

---

## ‚ú® Fonctionnalit√©s principales

### üë§ Gestion des utilisateurs
- **Inscription & Connexion** : Cr√©ation de compte avec validation des donn√©es
- **Profil personnalis√©** : Modification des informations personnelles, avatar, centres d'int√©r√™t
- **Recherche de profils** : Filtrage par √¢ge, localisation, centres d'int√©r√™t
- **Vues de profils** : Consultation des profils d'autres utilisateurs

### üí¨ Messagerie
- **Conversations priv√©es** : √âchange de messages asynchrones
- **Liste de contacts** : Gestion des conversations actives


### üéâ √âv√©nements
- **Participation** : Inscription aux √©v√©nements
- **Recherche** : Filtrage par localisation

### üîí Administration
- **Dashboard admin** : Gestion des utilisateurs et mod√©ration
- **Statistiques** : Vue d'ensemble de l'activit√© de la plateforme
- **Evenements** : Cr√©ation, modification suppression d'√©v√©nements.

---

## üõ† Technologies utilis√©es

### Core
- **[React](https://react.dev/)** `19.1.0` - Biblioth√®que JavaScript pour construire l'interface utilisateur
- **[TypeScript](https://www.typescriptlang.org/)** `5.8.3` - Typage statique pour JavaScript
- **[Vite](https://vitejs.dev/)** `7.0.3` - Build tool ultra-rapide

### Routing & State
- **[React Router DOM](https://reactrouter.com/)** `7.6.3` - Navigation c√¥t√© client
- **React Hooks** - Gestion d'√©tat (useState, useEffect, etc.)

### HTTP & Authentification
- **[Axios](https://axios-http.com/)** `1.10.0` - Client HTTP avec intercepteurs
- **JWT + Refresh Token** - Authentification s√©curis√©e avec renouvellement automatique

### Styling
- **[Sass](https://sass-lang.com/)** `1.89.2` - Pr√©processeur CSS
- **Architecture SCSS modulaire** - Organisation par composants et √©l√©ments

### UI & Ic√¥nes
- **[Lucide React](https://lucide.dev/)** `0.525.0` - Biblioth√®que d'ic√¥nes modernes

### Analytics & Monitoring
- **[Vercel Analytics](https://vercel.com/analytics)** `1.5.0` - Analyse du trafic et performances

### Qualit√© du code
- **[ESLint](https://eslint.org/)** `9.31.0` - Linter JavaScript/TypeScript
- **TypeScript ESLint** `8.36.0` - R√®gles ESLint pour TypeScript

### Gestionnaire de paquets
- **[pnpm](https://pnpm.io/)** `10.13.1` - Gestionnaire de paquets performant

---

## üîê Architecture & Authentification

### Syst√®me d'authentification avec Refresh Token

L'application utilise un syst√®me moderne d'authentification bas√© sur **JWT** avec **Refresh Token** pour une s√©curit√© optimale :

#### Fonctionnement

1. **Connexion initiale** :
   - L'utilisateur se connecte avec email/mot de passe
   - Le backend renvoie :
     - Un **Access Token** (JWT, dur√©e courte ~15min) stock√© dans `localStorage`
     - Un **Refresh Token** (dur√©e longue ~7 jours) stock√© dans un cookie **HttpOnly**

2. **Requ√™tes authentifi√©es** :
   - Chaque requ√™te API inclut automatiquement l'Access Token dans l'en-t√™te `Authorization: Bearer <token>`
   - Les cookies sont envoy√©s automatiquement gr√¢ce √† `withCredentials: true`

3. **Renouvellement automatique** :
   - Si l'API renvoie une erreur `401 Unauthorized`, l'intercepteur Axios :
     - Met les requ√™tes en file d'attente
     - Appelle automatiquement `/refresh-token` avec le Refresh Token (cookie)
     - R√©cup√®re un nouvel Access Token
     - Rejoue toutes les requ√™tes en attente avec le nouveau token
   - Si le Refresh Token est expir√©/invalide ‚Üí d√©connexion automatique

4. **D√©connexion** :
   - Appel √† `/logout` pour supprimer le Refresh Token c√¥t√© serveur
   - Nettoyage du `localStorage`

#### Avantages de cette approche

- ‚úÖ **S√©curit√© renforc√©e** : Le Refresh Token n'est jamais accessible en JavaScript (HttpOnly cookie)
- ‚úÖ **Exp√©rience utilisateur fluide** : Pas de d√©connexion brutale, renouvellement transparent
- ‚úÖ **Protection XSS** : Les cookies HttpOnly ne peuvent pas √™tre vol√©s par injection de script
- ‚úÖ **Gestion des sessions multiples** : File d'attente pour √©viter les appels simultan√©s

#### Impl√©mentation (src/utils/auth.ts)

```typescript
// Intercepteur pour ajouter le token √† chaque requ√™te
api.interceptors.request.use((config) => {
  const token = localStorage.getItem('accessToken');
  if (token) {
    config.headers.Authorization = `Bearer ${token}`;
  }
  return config;
});

// Intercepteur pour g√©rer le refresh automatique
api.interceptors.response.use(
  (response) => response,
  async (error) => {
    if (error.response?.status === 401 && !originalRequest._retry) {
      // Tentative de refresh automatique
      const response = await api.post('/refresh-token');
      localStorage.setItem('accessToken', response.data.token);
      // Rejouer la requ√™te originale
      return api(originalRequest);
    }
    return Promise.reject(error);
  }
);
```

---

## üì¶ Installation

### Pr√©requis

- **Node.js** : Version 18 ou sup√©rieure
- **pnpm** : Gestionnaire de paquets (recommand√©)

### √âtapes

1. **Cloner le repository**

```bash
git clone https://github.com/MarineLigny/SeniorLove-front.git
cd SeniorLove-front
```

2. **Installer pnpm (si non install√©)**

```bash
npm install -g pnpm
```

3. **Installer les d√©pendances**

```bash
pnpm install
```

4. **Configuration de l'environnement**

Le backend est configur√© pour pointer vers : `https://seniorlove-back-znlu.onrender.com`  
(Vous pouvez modifier l'URL dans `src/utils/auth.ts` si n√©cessaire)

5. **Lancer le serveur de d√©veloppement**

```bash
pnpm dev
```

L'application sera accessible sur **http://localhost:5173**

### Commandes disponibles

```bash
# D√©veloppement
pnpm dev          # Lance le serveur de d√©veloppement

# Build
pnpm build        # Compile le projet pour la production

# Linting
pnpm lint         # V√©rifie le code avec ESLint

# Preview
pnpm preview      # Pr√©visualise le build de production
```

---

## üó∫ Routes principales

### Routes publiques

| Route | Composant | Description |
|-------|-----------|-------------|
| `/` | `HomePage` | Page d'accueil avec pr√©sentation |
| `/confidentiality` | `Confidentiality` | Politique de confidentialit√© |
| `*` | `NotFoundPage` | Page 404 |

### Routes utilisateur authentifi√©

| Route | Composant | Description |
|-------|-----------|-------------|
| `/profile` | `ProfilePage` | Profil de l'utilisateur connect√© |
| `/profile/:pseudo` | `ProfilPageViewer` | Affichage du profil d'un autre utilisateur |
| `/meet` | `MeetPage` | Page de recherche de profils |
| `/mymessage` | `MyMessagePage` | Liste des conversations |
| `/message/:contactId` | `ConversationPage` | Conversation avec un utilisateur |
| `/event` | `EventsPage` | Liste des √©v√©nements |
| `/event/:id` | `EventPage` | D√©tails d'un √©v√©nement |

### Routes admin

| Route | Composant | Description |
|-------|-----------|-------------|
| `/dashboard` | `Dashboard` | Panneau d'administration (r√©serv√© aux admins) |

---

## üîå Exemples de requ√™tes API

### Authentification

```typescript
// Connexion
POST /login
Body: { email: string, password: string }
Response: { token: string, user: UserObject }
+ Cookie: refreshToken (HttpOnly)

// Inscription
POST /register
Body: { email, password, pseudo, birthdate, gender, ... }
Response: { message: string }

// Refresh token (automatique)
POST /refresh-token
Cookies: refreshToken
Response: { token: string }

// D√©connexion
POST /logout
Cookies: refreshToken
Response: { message: string }
```

### Profil utilisateur (CRUD)

```typescript
// R√©cup√©rer mon profil
GET /myprofile
Headers: Authorization: Bearer <token>
Response: UserObject

// Modifier mon profil
PUT /myprofile
Headers: Authorization: Bearer <token>
Body: { pseudo?, bio?, city?, interests?, ... }
Response: { message: string, user: UserObject }

// Supprimer mon compte
DELETE /myprofile
Headers: Authorization: Bearer <token>
Response: { message: string }

// Voir un profil public
GET /profile/:pseudo
Headers: Authorization: Bearer <token>
Response: PublicUserObject
```

### Recherche de profils

```typescript
// Rechercher des profils avec filtres
GET /meet?gender=female&ageMin=50&ageMax=70&city=Paris&interests=cinema,voyage
Headers: Authorization: Bearer <token>
Response: UserObject[]
```

### √âv√©nements (CRUD)

```typescript
// Liste des √©v√©nements
GET /event
Headers: Authorization: Bearer <token>
Response: EventObject[]

// Cr√©er un √©v√©nement
POST /event
Headers: Authorization: Bearer <token>
Body: { title, description, date, location, category }
Response: { message: string, event: EventObject }

// D√©tails d'un √©v√©nement
GET /event/:id
Headers: Authorization: Bearer <token>
Response: EventObject

// Modifier un √©v√©nement
PUT /event/:id
Headers: Authorization: Bearer <token>
Body: { title?, description?, date?, ... }
Response: { message: string, event: EventObject }

// Supprimer un √©v√©nement
DELETE /event/:id
Headers: Authorization: Bearer <token>
Response: { message: string }

// Participer √† un √©v√©nement
POST /event/:id/participate
Headers: Authorization: Bearer <token>
Response: { message: string }
```

### Messagerie

```typescript
// Liste des conversations
GET /mymessage
Headers: Authorization: Bearer <token>
Response: ConversationObject[]

// Messages d'une conversation
GET /message/:contactId
Headers: Authorization: Bearer <token>
Response: MessageObject[]

// Envoyer un message
POST /message/:contactId
Headers: Authorization: Bearer <token>
Body: { content: string }
Response: { message: string, data: MessageObject }
```

---

## üìÅ Structure du projet

```
senior-love-front/
‚îú‚îÄ‚îÄ public/                      # Assets statiques
‚îÇ   ‚îî‚îÄ‚îÄ img/                     # Images (avatars, photos)
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ @types/                  # D√©finitions TypeScript
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ events.d.ts          # Types pour les √©v√©nements
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ interest.d.ts        # Types pour les centres d'int√©r√™t
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ message.d.ts         # Types pour la messagerie
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ navbar.d.ts          # Types pour la navbar
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ users.d.ts           # Types pour les utilisateurs
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ components/              # Composants r√©utilisables
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EventCard.tsx        # Carte d'√©v√©nement
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FilterBar.tsx        # Barre de filtres
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Footer.tsx           # Pied de page
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Loader.tsx           # Indicateur de chargement
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ModalAddEvent.tsx    # Modal de cr√©ation d'√©v√©nement
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ModalLogin.tsx       # Modal de connexion
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ModalRegister.tsx    # Modal d'inscription
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MyEventCard.tsx      # Carte "Mes √©v√©nements"
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MyMessageCard.tsx    # Carte de conversation
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ NavBar.tsx           # Barre de navigation
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PrivateRoute.tsx     # Route prot√©g√©e
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ updateEvent.tsx      # Modal de modification d'√©v√©nement
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ UserCard.tsx         # Carte de profil utilisateur
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ pages/                   # Pages de l'application
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 404/                 # Page 404
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Conversation/        # Page de conversation
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Event/               # D√©tails d'un √©v√©nement
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Events/              # Liste des √©v√©nements
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HomePage/            # Page d'accueil
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Meet/                # Recherche de profils
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Meet-Profils/        # Liste des conversations
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MyProfile/           # Mon profil
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProfilViewers/       # Profil d'un autre utilisateur
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Confidentiality.tsx  # Confidentialit√©
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Dashboard.tsx        # Dashboard admin
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ scss/                    # Styles SCSS
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base/                # Styles de base
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ _variable.scss   # Variables CSS
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ reset.scss       # Reset CSS
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ elements/            # Styles des composants
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ btn.scss         # Boutons
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ footer.scss      # Pied de page
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ loader.scss      # Loader
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ modals.scss      # Modales
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ navbar.scss      # Navbar
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ searchBar.scss   # Barre de recherche
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ userCard.scss    # Cartes utilisateur
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ style.scss           # Import principal
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ utils/                   # Utilitaires
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.ts              # Service d'authentification + Axios
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ calculateAge.tsx     # Calcul d'√¢ge
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ unescape.tsx         # D√©codage HTML
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ App.tsx                  # Composant principal
‚îÇ   ‚îú‚îÄ‚îÄ main.tsx                 # Point d'entr√©e
‚îÇ   ‚îú‚îÄ‚îÄ index.scss               # Styles globaux
‚îÇ   ‚îî‚îÄ‚îÄ vite-env.d.ts            # Types Vite
‚îÇ
‚îú‚îÄ‚îÄ eslint.config.js             # Configuration ESLint
‚îú‚îÄ‚îÄ index.html                   # Template HTML
‚îú‚îÄ‚îÄ package.json                 # D√©pendances npm
‚îú‚îÄ‚îÄ pnpm-lock.yaml               # Lockfile pnpm
‚îú‚îÄ‚îÄ tsconfig.json                # Configuration TypeScript
‚îú‚îÄ‚îÄ vite.config.ts               # Configuration Vite
‚îî‚îÄ‚îÄ vercel.json                  # Configuration Vercel
```

---

## üöÄ D√©ploiement

L'application est optimis√©e pour le d√©ploiement sur **Vercel** :

```bash
# Build de production
pnpm build

# Les fichiers compil√©s se trouvent dans dist/
```

Le fichier `vercel.json` configure le routage pour React Router.

---

## üë• √âquipe

**Projet r√©alis√© en bin√¥me** :
- **Marine Ligny** - Backend + Frontend (ce repository)
- **Emmanuelle Eisel√©** - Frontend + Backend ([Voir son portfolio](https://github.com/EmmanuelleEisele)) // voir la maquette Figma ([Figma](https://www.figma.com/design/d7HFWC2Nk0u54pGNRu5gLK/SeniorLove?node-id=0-1&p=f&t=yB58B1DGX0syeheJ-0))

---

## üìÑ Licence

Ce projet est un projet √©tudiant r√©alis√© dans le cadre d'une formation en d√©veloppement web.

---

## üôè Remerciements

- √âcole O'Clock pour l'accompagnement
- La communaut√© React et TypeScript
- Tous les testeurs et utilisateurs

---

**Fait avec ‚ù§Ô∏è pour les seniors**
